import{Intersection as d}from"../vendor/splidejs-splide-extension-intersection.min.js";import{AutoScroll as u}from"../vendor/splidejs-splide-extension-auto-scroll.min.js";import{Splide as g}from"../vendor/splidejs-splide.min.js";import m from"./class/scrollClass.js";import{utils as c}from"./utils/util.js";const s=document.documentElement,f=document.body,p=document.getElementById("loading"),l=document.getElementById("globalHeader"),i=window.APP||(window.APP={});function w(){const e=f.dataset.page;e&&document.querySelectorAll(".nav").forEach(t=>{t.classList.toggle("active",t.classList.contains(`n_${e}`))})}function h(){const e=document.querySelectorAll(".acc");e.length!=0&&e.forEach(t=>{const o=t.querySelector(".acc_trigger"),n=t.querySelector(".acc_body");c.slideUp(n,0),o.addEventListener("click",()=>{c.slideToggle(n,300)})})}function y(){const e=document.querySelectorAll(".splide");e.length!=0&&e.forEach(t=>{const o=new g(t,{type:"loop",arrows:!1,pagination:!1,drag:!1,autoWidth:!0,autoScroll:{speed:1,pauseOnHover:!1},intersection:{inView:{autoScroll:!0},outView:{autoScroll:!1}},breakpoints:{760:{autoScroll:{speed:.7}}}});o.on("mounted",()=>{t.querySelectorAll("[data-lzy]").forEach(n=>{i.LZY.update(n)})}),o.mount({AutoScroll:u,Intersection:d})})}function S(){window.addEventListener("scroll",()=>{window.scrollY>100?l.classList.add("white"):l.classList.remove("white")})}async function E(){c.setFillHeight(),c.getScrollbarWidth(),w(),h(),y(),S(),await c.delay(200),p.classList.add("hide"),s.classList.remove("loading"),await c.delay(300);const e=document.querySelectorAll("[data-target]");e.length>0&&(i.SC=new m(e,{rootMargin:"-10% 0px",delay:100}))}s.classList.add("loading"),window.addEventListener("DOMContentLoaded",()=>{if(E(),window.location.hash){const e=window.location.hash.substring(1),t=document.getElementById(e);t&&l&&setTimeout(()=>{const o=l.offsetHeight,n=t.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,r=n.top+a-o;window.scrollTo({top:r,behavior:"auto"})},10)}});
