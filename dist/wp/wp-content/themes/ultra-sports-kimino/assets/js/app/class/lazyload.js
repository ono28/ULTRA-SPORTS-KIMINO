class i{constructor(s="0px"){this.rootMargin=s,this.lazyImageObserver=null,this.initObserver()}update(s){s&&this.lazyImageObserver&&this.lazyImageObserver.observe(s)}initObserver(){if("IntersectionObserver"in window&&!this.lazyImageObserver){const s={rootMargin:this.rootMargin};this.lazyImageObserver=new IntersectionObserver((r,a)=>{r.forEach(t=>{if(t.isIntersecting){let e=t.target;e.dataset.src!==void 0&&(e.src=e.dataset.src),e.dataset.srcset!==void 0&&(e.srcset=e.dataset.srcset),e.onload=()=>e.classList.add("action"),a.unobserve(e)}})},s),document.querySelectorAll("[data-lzy]").forEach(r=>this.lazyImageObserver.observe(r))}}}export{i as default};
